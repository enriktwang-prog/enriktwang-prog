<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Enrik HQ ‚öΩüéÆüé®üéµ</title>
  <style>
    :root{
      --bg:#070a17;
      --card:#0f1533;
      --card2:#0b1130;
      --text:#e9efff;
      --muted:#a6b4ea;
      --line:rgba(255,255,255,.12);
      --glow:rgba(124,92,255,.28);
      --accent:#7c5cff;
      --accent2:#00d4ff;
      --good:#55efc4;
      --warn:#ffeaa7;
      --bad:#ff7675;
      --r:18px;
      --shadow: 0 18px 50px rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 15% 0%, var(--glow), transparent 60%),
        radial-gradient(760px 420px at 85% 10%, rgba(0,212,255,.18), transparent 60%),
        radial-gradient(1000px 600px at 40% 110%, rgba(85,239,196,.12), transparent 60%),
        var(--bg);
      min-height:100vh;
      overflow-x:hidden;
    }
    .wrap{ max-width:1100px; margin:0 auto; padding:18px; }

    header{
      position:sticky; top:0; z-index:10;
      background: rgba(7,10,23,.68);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .top{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:999px;
      background: rgba(255,255,255,.06);
      box-shadow: 0 12px 40px rgba(0,0,0,.22);
      font-weight:800;
      letter-spacing:.2px;
    }
    .tiny{ color:var(--muted); font-weight:700; font-size:12.5px; }
    .status{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;
    }
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:800;
      font-size:12.5px;
      white-space:nowrap;
    }

    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 920px){ .hero{ grid-template-columns:1fr; } }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .in{ padding:16px; }
    h1{ margin:6px 0 8px; font-size: clamp(28px, 4vw, 46px); }
    h2{ margin:0 0 10px; font-size: 18px; }
    p{ margin:0; color:var(--muted); line-height:1.5; }
    .row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }

    button{
      appearance:none;
      border:none;
      cursor:pointer;
      padding:11px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color:var(--text);
      font-weight:900;
      letter-spacing:.2px;
      transition: transform .08s ease, background .18s ease, border-color .18s ease;
      user-select:none;
    }
    button:hover{ background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.26); }
    button:active{ transform: translateY(1px) scale(.99); }

    .btnA{ background: rgba(124,92,255,.20); border-color: rgba(124,92,255,.40); }
    .btnA:hover{ background: rgba(124,92,255,.28); border-color: rgba(124,92,255,.55); }
    .btnB{ background: rgba(0,212,255,.14); border-color: rgba(0,212,255,.32); }
    .btnB:hover{ background: rgba(0,212,255,.20); border-color: rgba(0,212,255,.48); }
    .btnG{ background: rgba(85,239,196,.14); border-color: rgba(85,239,196,.32); }
    .btnG:hover{ background: rgba(85,239,196,.20); border-color: rgba(85,239,196,.48); }

    .meter{
      margin-top:12px;
      height:14px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      overflow:hidden;
    }
    .bar{
      height:100%;
      width: 40%;
      border-radius:999px;
      background: linear-gradient(90deg, var(--accent), var(--accent2), var(--good));
      transition: width .25s ease;
    }
    .meterline{
      display:flex; justify-content:space-between;
      margin-top:8px; font-weight:900;
      color:var(--muted); font-size:12.5px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
      margin:14px 0 22px;
    }
    .span6{ grid-column: span 6; }
    .span4{ grid-column: span 4; }
    .span8{ grid-column: span 8; }
    .span12{ grid-column: span 12; }
    @media (max-width: 920px){
      .span6,.span4,.span8{ grid-column: span 12; }
    }

    /* Mini game pitch */
    .pitch{
      border-radius: 16px;
      border:1px solid var(--line);
      background:
        radial-gradient(420px 220px at 20% 20%, rgba(85,239,196,.10), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.14), rgba(0,0,0,.02));
      padding:14px;
      position:relative;
      min-height:170px;
      overflow:hidden;
    }
    .goal{
      position:absolute; right:12px; top:50%;
      transform: translateY(-50%);
      width:110px; height:90px;
      border-radius: 14px;
      border:2px dashed rgba(255,255,255,.28);
      background: rgba(255,255,255,.04);
    }
    .ball{
      position:absolute; left:16px; top:50%;
      transform: translateY(-50%);
      width:44px; height:44px;
      border-radius:999px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 10px 25px rgba(0,0,0,.28);
      font-size:22px;
    }
    .shot{
      animation: shot 520ms cubic-bezier(.2,.8,.2,1) forwards;
    }
    @keyframes shot{
      from{ left:16px; }
      to{ left: calc(100% - 170px); }
    }
    .result{
      margin-top:10px;
      font-weight:900;
      color:var(--text);
    }
    .result small{ display:block; color:var(--muted); font-weight:800; margin-top:4px; }

    /* Comic */
    .comic{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width: 920px){ .comic{ grid-template-columns: 1fr; } }
    .panel{
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      padding:12px;
      min-height:110px;
    }
    .panel b{ display:block; margin-bottom:6px; }
    .speech{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      padding:10px;
      color:var(--text);
      line-height:1.35;
      min-height:50px;
    }

    /* Drawing */
    .canvasWrap{
      display:grid;
      grid-template-columns: 1fr 240px;
      gap:12px;
      align-items:start;
      margin-top:12px;
    }
    @media (max-width: 920px){ .canvasWrap{ grid-template-columns: 1fr; } }
    canvas{
      width:100%;
      height:320px;
      background:#070b1d;
      border-radius: 16px;
      border:1px solid var(--line);
      box-shadow: var(--shadow);
      display:block;
    }
    .tools{
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      padding:12px;
    }
    label{
      display:block;
      margin-top:8px;
      margin-bottom:6px;
      font-size:12.5px;
      color:var(--muted);
      font-weight:900;
    }
    select,input[type="text"],input[type="range"]{
      width:100%;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color:var(--text);
      padding:10px;
      outline:none;
    }
    .hint{ margin-top:10px; font-size:12.5px; color:var(--muted); line-height:1.45; }

    /* Toast */
    .toast{
      position: fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(15,21,51,.88);
      border:1px solid rgba(255,255,255,.16);
      padding:10px 12px;
      border-radius: 999px;
      box-shadow: 0 16px 50px rgba(0,0,0,.40);
      color:var(--text);
      font-weight:900;
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:999;
      max-width: calc(100vw - 24px);
      text-align:center;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }
    footer{
      padding: 18px;
      text-align:center;
      color: rgba(233,239,255,.65);
      font-size:12.5px;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap top">
      <div class="brand">‚ö° Enrik HQ <span class="tiny">‚Ä¢ soccer ‚Ä¢ roblox ‚Ä¢ comics ‚Ä¢ music</span></div>
      <div class="status">
        <div class="chip">‚öΩ Skills: <span id="skillTxt">40</span></div>
        <div class="chip">üéµ Pitch: <span id="pitchTxt">Perfect</span></div>
        <div class="chip">‚≠ê XP: <span id="xpTxt">0</span></div>
      </div>
    </div>
  </header>

  <div class="wrap hero">
    <div class="card">
      <div class="in">
        <h1>Welcome, Enrik! ‚öΩüéÆüé®üéµ</h1>
        <p>
          This is your personal ‚Äúgame dashboard‚Äù. Press buttons to earn XP, generate missions,
          shoot goals, and make mini-comics.
        </p>

        <div class="row">
          <button class="btnG" id="btnMission">NEW MISSION üéØ</button>
          <button class="btnA" id="btnPower">POWER UP ‚ö°</button>
          <button class="btnB" id="btnLoot">OPEN LOOT üéÅ</button>
        </div>

        <div class="meter" aria-label="power meter">
          <div class="bar" id="bar"></div>
        </div>
        <div class="meterline">
          <span>Power</span>
          <span id="powerTxt">40%</span>
        </div>

        <div class="row" style="margin-top:14px">
          <div class="chip">üè¥‚Äç‚ò†Ô∏è One Piece vibes</div>
          <div class="chip">üêâ Dragon Ball vibes</div>
          <div class="chip">ü•Å Drums</div>
          <div class="chip">üéª Violin</div>
          <div class="chip">üé∏ Guitar</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="in">
        <h2>üìå Mission Board</h2>
        <p id="missionTxt">Tap <b>NEW MISSION</b> to begin.</p>
        <div class="row">
          <button id="btnDone">MISSION COMPLETE ‚úÖ</button>
          <button id="btnReset">RESET üîÑ</button>
        </div>
        <p class="hint">
          Tip: Clicking any button should show a little toast at the bottom.
          If you see nothing, something is blocking JavaScript.
        </p>
      </div>
    </div>
  </div>

  <main class="wrap">
    <section class="grid">

      <article class="card span6">
        <div class="in">
          <h2>‚öΩ Mini Game: Penalty Shot</h2>
          <p>Press SHOOT. If it‚Äôs a goal, you earn XP and power.</p>

          <div class="pitch" id="pitch">
            <div class="ball" id="ball">‚öΩ</div>
            <div class="goal" aria-label="goal"></div>
          </div>

          <div class="row">
            <button class="btnG" id="btnShoot">SHOOT! ü•Ö</button>
            <button id="btnTrick">TRICK SHOT ‚ú®</button>
          </div>

          <div class="result" id="shotResult">Ready when you are.</div>
        </div>
      </article>

      <article class="card span6">
        <div class="in">
          <h2>üé® Mini Comic Maker</h2>
          <p>Write 3 lines. Make it pirates vs dragons vs soccer üòÑ</p>

          <div class="comic" style="margin-top:12px">
            <div class="panel">
              <b>Panel 1</b>
              <div class="speech" id="p1">‚ÄúKickoff‚Ä¶ the hero arrives!‚Äù</div>
            </div>
            <div class="panel">
              <b>Panel 2</b>
              <div class="speech" id="p2">‚ÄúA boss appears on the field!‚Äù</div>
            </div>
            <div class="panel">
              <b>Panel 3</b>
              <div class="speech" id="p3">‚ÄúPOWER MOVE! Goal!!!‚Äù</div>
            </div>
          </div>

          <div class="row" style="margin-top:12px">
            <button class="btnB" id="btnAutoComic">AUTO STORY üìö</button>
          </div>
        </div>
      </article>

      <article class="card span12">
        <div class="in">
          <h2>‚úèÔ∏è Doodle Board</h2>
          <p>Draw a character, a soccer move, or a Roblox avatar.</p>

          <div class="canvasWrap">
            <canvas id="board"></canvas>

            <div class="tools">
              <label for="brush">Brush size</label>
              <input id="brush" type="range" min="2" max="26" value="8" />

              <label for="color">Color</label>
              <select id="color">
                <option value="#e9efff">Ice White</option>
                <option value="#7c5cff">Power Purple</option>
                <option value="#00d4ff">Neon Blue</option>
                <option value="#55efc4">Mint Green</option>
                <option value="#ffeaa7">Golden</option>
                <option value="#ff7675">Red Blast</option>
              </select>

              <div class="row" style="margin-top:10px">
                <button id="btnClear">CLEAR üßº</button>
                <button class="btnA" id="btnStamp">STAMP ‚≠ê</button>
              </div>

              <label for="line1">Comic line 1</label>
              <input id="line1" type="text" maxlength="80" placeholder="Type something epic..." />

              <label for="line2">Comic line 2</label>
              <input id="line2" type="text" maxlength="80" placeholder="What happens next?" />

              <label for="line3">Comic line 3</label>
              <input id="line3" type="text" maxlength="80" placeholder="Big finish!" />

              <div class="row" style="margin-top:10px">
                <button class="btnG" id="btnSetComic">SET PANELS ‚úÖ</button>
              </div>

              <p class="hint">Mouse: click + drag. Phone/iPad: draw with finger.</p>
            </div>
          </div>
        </div>
      </article>

    </section>
  </main>

  <footer>Made for Enrik ‚ö° Keep playing, creating, and making music! üéµ</footer>
  <div class="toast" id="toast">Hello!</div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ---------- helpers ----------
      const $ = (id) => document.getElementById(id);
      const toast = $("toast");
      function showToast(msg){
        toast.textContent = msg;
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 1200);
      }
      function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

      // ---------- state ----------
      let power = 40;
      let xp = 0;
      let skill = 40;

      const bar = $("bar");
      const powerTxt = $("powerTxt");
      const xpTxt = $("xpTxt");
      const skillTxt = $("skillTxt");

      function setPower(v){
        power = Math.max(0, Math.min(100, v));
        bar.style.width = power + "%";
        powerTxt.textContent = power + "%";
      }
      function addXP(n){
        xp += n;
        xpTxt.textContent = xp;
      }
      function addSkill(n){
        skill = Math.max(0, Math.min(100, skill + n));
        skillTxt.textContent = skill;
      }

      // ---------- mission board ----------
      const missionTxt = $("missionTxt");
      const missions = [
        "‚öΩ Do 20 quick toe taps, then a victory pose.",
        "üéÆ Roblox: design an obby with 3 obstacles + 1 boss room.",
        "üé® Draw a 3-panel comic: hero ‚Üí problem ‚Üí power-up win.",
        "ü•Å Make a beat: slow (8 counts) then fast (8 counts).",
        "üéª/üé∏ Play a 5-note melody. Perfect pitch bonus!",
        "üè¥‚Äç‚ò†Ô∏è Pirate vs Dragon: write 2 lines about the showdown.",
      ];

      $("btnMission").addEventListener("click", () => {
        const m = rand(missions);
        missionTxt.textContent = m;
        addXP(5);
        setPower(power + 8);
        showToast("New mission!");
      });

      $("btnPower").addEventListener("click", () => {
        setPower(power + 18);
        addXP(3);
        showToast("Power up!");
      });

      $("btnLoot").addEventListener("click", () => {
        const loot = rand([
          "üéÅ Loot: +1 Confidence Cape",
          "üéÅ Loot: +1 Speed Boots",
          "üéÅ Loot: +1 Music Aura",
          "üéÅ Loot: +1 Comic Ink Pen",
          "üéÅ Loot: +1 Roblox Builder Badge",
        ]);
        missionTxt.textContent = loot;
        addXP(4);
        addSkill(2);
        showToast("Loot opened!");
      });

      $("btnDone").addEventListener("click", () => {
        addXP(10);
        addSkill(3);
        setPower(power + 6);
        missionTxt.textContent = "‚úÖ Mission complete! New XP earned.";
        showToast("+10 XP!");
      });

      $("btnReset").addEventListener("click", () => {
        xp = 0; skill = 40; setPower(40);
        xpTxt.textContent = xp;
        skillTxt.textContent = skill;
        missionTxt.textContent = "Tap NEW MISSION to begin.";
        showToast("Reset!");
      });

      // ---------- penalty shot ----------
      const ball = $("ball");
      const shotResult = $("shotResult");

      function shoot(isTrick){
        ball.classList.remove("shot");
        void ball.offsetWidth; // restart animation reliably
        ball.classList.add("shot");

        const baseGoalChance = 0.55 + (skill/200); // 0.55..1.05-ish capped below
        const trickPenalty = isTrick ? 0.10 : 0;
        const goalChance = Math.min(0.92, baseGoalChance - trickPenalty);

        setTimeout(() => {
          const goal = Math.random() < goalChance;
          if(goal){
            const gain = isTrick ? 18 : 12;
            addXP(isTrick ? 12 : 8);
            addSkill(isTrick ? 2 : 1);
            setPower(power + gain);
            shotResult.innerHTML = "GOOOAAL! ü•Öüî• <small>XP and power increased.</small>";
            showToast("GOAL!");
          }else{
            setPower(power - (isTrick ? 6 : 4));
            shotResult.innerHTML = "Saved! üòÖ <small>Try again ‚Äî adjust the angle!</small>";
            showToast("Saved!");
          }
          ball.classList.remove("shot");
        }, 560);
      }

      $("btnShoot").addEventListener("click", () => shoot(false));
      $("btnTrick").addEventListener("click", () => shoot(true));

      // ---------- comic ----------
      $("btnAutoComic").addEventListener("click", () => {
        const a = [
          "‚ÄúKickoff‚Ä¶ the hero arrives with pirate energy!‚Äù",
          "‚ÄúIn Roblox City, the field turns into a boss arena!‚Äù",
          "‚ÄúThe drumbeat starts‚Ä¶ and the ball begins to glow!‚Äù"
        ];
        const b = [
          "‚ÄúA dragon defender blocks the shot!‚Äù",
          "‚ÄúThe rival uses the Ultimate Tackle!‚Äù",
          "‚ÄúA storm of obstacles appears like an obby!‚Äù"
        ];
        const c = [
          "‚ÄúPerfect Pitch POWER! The melody unlocks the winning move!‚Äù",
          "‚ÄúENERGY STRIKE! Goal + fireworks + victory dance!‚Äù",
          "‚ÄúTEAM COMBO! Assist ‚Üí volley ‚Üí WIN!‚Äù"
        ];
        $("p1").textContent = rand(a);
        $("p2").textContent = rand(b);
        $("p3").textContent = rand(c);
        addXP(5);
        showToast("Story generated!");
      });

      $("btnSetComic").addEventListener("click", () => {
        const l1 = $("line1").value.trim();
        const l2 = $("line2").value.trim();
        const l3 = $("line3").value.trim();
        if(l1) $("p1").textContent = l1;
        if(l2) $("p2").textContent = l2;
        if(l3) $("p3").textContent = l3;
        addXP(4);
        showToast("Comic updated!");
      });

      // ---------- canvas (robust + accurate coordinates) ----------
      const canvas = $("board");
      const ctx = canvas.getContext("2d");

      function fitCanvas(){
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        canvas.width = Math.round(rect.width * dpr);
        canvas.height = Math.round(rect.height * dpr);
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0); // reset + scale
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
      }
      fitCanvas();
      window.addEventListener("resize", fitCanvas);

      let drawing = false;
      let last = {x:0, y:0};

      function pos(e){
        const rect = canvas.getBoundingClientRect();
        const cx = e.touches ? e.touches[0].clientX : e.clientX;
        const cy = e.touches ? e.touches[0].clientY : e.clientY;
        return { x: cx - rect.left, y: cy - rect.top };
      }

      function start(e){
        drawing = true;
        last = pos(e);
        e.preventDefault();
      }
      function move(e){
        if(!drawing) return;
        const p = pos(e);
        ctx.strokeStyle = $("color").value;
        ctx.lineWidth = Number($("brush").value);
        ctx.beginPath();
        ctx.moveTo(last.x, last.y);
        ctx.lineTo(p.x, p.y);
        ctx.stroke();
        last = p;
        e.preventDefault();
      }
      function end(){
        if(!drawing) return;
        drawing = false;
        addXP(1);
      }

      canvas.addEventListener("mousedown", start);
      canvas.addEventListener("mousemove", move);
      window.addEventListener("mouseup", end);
      canvas.addEventListener("touchstart", start, {passive:false});
      canvas.addEventListener("touchmove", move, {passive:false});
      window.addEventListener("touchend", end);

      $("btnClear").addEventListener("click", () => {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        setPower(power - 3);
        showToast("Cleared!");
      });

      function drawStar(cx, cy, spikes, outerR, innerR, fill){
        let rot = Math.PI / 2 * 3;
        let x = cx, y = cy;
        const step = Math.PI / spikes;
        ctx.beginPath();
        ctx.moveTo(cx, cy - outerR);
        for(let i=0;i<spikes;i++){
          x = cx + Math.cos(rot) * outerR;
          y = cy + Math.sin(rot) * outerR;
          ctx.lineTo(x,y);
          rot += step;
          x = cx + Math.cos(rot) * innerR;
          y = cy + Math.sin(rot) * innerR;
          ctx.lineTo(x,y);
          rot += step;
        }
        ctx.closePath();
        ctx.fillStyle = fill;
        ctx.globalAlpha = 0.85;
        ctx.fill();
        ctx.globalAlpha = 1;
      }

      $("btnStamp").addEventListener("click", () => {
        const rect = canvas.getBoundingClientRect();
        const x = 30 + Math.random()*(rect.width-60);
        const y = 30 + Math.random()*(rect.height-60);
        drawStar(x,y,5,18,8,$("color").value);
        addXP(2);
        showToast("Stamped!");
      });

      // ---------- init ----------
      setPower(40);
      xpTxt.textContent = xp;
      skillTxt.textContent = skill;
      showToast("Buttons ready ‚úÖ");
    });
  </script>
</body>
</html>
